---
created: 2025-09-25 11:14
tags:
  - backend
  - basic
  - mongodb
---
# 202509251114
*Ссылка на StructureNote:* 
*Ссылка на исходник или контекст (если есть):* [Свойства индексов](https://practicum.yandex.ru/learn/backend-nodejs/courses/16b47298-e20d-4fde-9619-1ab305039a00/sprints/564238/topics/3850c616-bd4c-4c66-987e-9b4e0b0f135c/lessons/be6cf5fb-4cd0-41db-bc30-196d7213b988/)

Благодаря TTL-индесам можно автоматизировать удаление документов из коллекции. RRL-индекс можно создать только по полю, которое содержит дату или массив дат
```ts
db.sessions.createIndex({ "createdAt": 1 }, { "expireAfterSeconds": DAY_IN_SECONDS });
```
Если поле содержит массив дат, то для вычисления времени удаления будет использована самая ранняя.

MondoDB запускает задачу на удаление таких документов каждую минуту, то есть документ может существовать еще минимум минуту после истечения времени. Время может увеличиться, если сервер нагружен
### Связанные идеи:
*   [[202509241122 Индексы в MongoDB]]
---

*Что стоит развить? Какие вопросы возникли?*