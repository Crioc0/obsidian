---
created: 2025-10-04 13:37
tags:
  -
repeat: spaced every day
due_at: 2025-10-24T06:00:00.000+03:00
---
# 202510041337 Валидация с помощью DTO

*Ссылка на StructureNote:*
*Ссылка на исходник или контекст (если есть):* [ЯПрактикум](https://practicum.yandex.ru/learn/backend-nodejs/courses/a4214ab0-2146-4152-b90e-651bf4c7ca5e/sprints/564244/topics/1df920a3-5c6a-4fcd-884c-0f66136c2b56/lessons/d77622ea-f32d-42fa-999d-bfba555dae7d/) [https://github.com/typestack/class-validator#validation-decorators](https://github.com/typestack/class-validator#validation-decorators).

Для валидации данных от клиента в DTO в Nest.js есть встроенный класс `ValidationPipe`.

Чтобы использовать `ValidationPipe`, вам понадобится установить два модуля:

- `class-validator`, который экспортирует удобные декораторы для валидации свойств класса;
- `class-transformer`, который трансформирует данные от клиента в объекты наших DTO-классов.
Далее нужно добавить `Validation Pipe` в приложение. Сделать это нужно в функции `bootstrap`

```ts
async function bootstrap() {
  const app = await NestFactory.create(AppModule);
  // Добавим глобальный пайплайн валидации на следующей строке
  app.useGlobalPipes(new ValidationPipe());

  await app.listen(3000);
}
bootstrap();
```

Наконец, вы можете импортировать декораторы из `class-validator` в `CreateUserDto`:

```ts
import { IsEmail, IsNotEmpty, IsString } from 'class-validator';

export class CreateUserDto {
  @IsString()
  username: string;

  @IsEmail()
  email: string;

  @IsNotEmpty()
  password: string;
}
```

Благодаря `ValidationPipe` Nest.js самостоятельно будет валидировать данные по указанным декораторам. Если какое-то поле не пройдёт валидацию, `ValidationPipe` вернёт клиенту ошибку.

### Связанные идеи:

* [[202510041333 DTO в NestJS]]

---

*Что стоит развить? Какие вопросы возникли?*
