---
created: 2025-10-04 13:41
tags:
  - nestjs
repeat: spaced every 36 hours
due_at: 2025-10-26T22:26:00.091+03:00
---
# 202510041341 Трансформация DTO в объект класса

*Ссылка на StructureNote:*
*Ссылка на исходник или контекст (если есть):*

DTO зачастую описывается с помощью класса. Но по умолчанию Nest.js не трансформирует объект с телом запроса в объект класса. К примеру, если мы сразу добавим метод в этот класс, он не будет доступен в контроллере. Чтобы изменить это поведение, достаточно указать опцию `transform` для `ValidationPipe`

```ts
async function bootstrap() {
  const app = await NestFactory.create(AppModule);

  app.useGlobalPipes(new ValidationPipe({ transform: true }));

  await app.listen(3000);
}
bootstrap();
```

Теперь вы можете определить методы для DTO, например, геттер `fullName`, который будет конкатенировать имя и фамилию пользователя:

```ts
export class CreateUserDto {
  public username: string;
  public email: string;
  public firstName: string;
  public lastName: string;

  public get fullName() {
    return this.firstName + this.lastName;
  }
}
```

И использовать `fullName` внутри контроллера:

```ts
import { Controller, Post, Body } from '@nestjs/common';
import { CreateUserDto } from './create-user.dto';

@Controller('/users')
export class UsersController {
  @Post()
  create(@Body() createUserDto: CreateUserDto) {
    return `This action will create user with ${createUserDto.fullName} username`;
  }
}
```

### Связанные идеи:

* [[202510041333 DTO в NestJS]]

---

*Что стоит развить? Какие вопросы возникли?*
