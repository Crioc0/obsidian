---
repeat: spaced every day
created: 2025-10-08 14:30
tags:
  - vue
---
# 202510081430 Teleport

*Ссылка на StructureNote:*
*Ссылка на исходник или контекст (если есть):*

`<Teleport>` это встроенный компонент, который позволяет «телепортировать» часть шаблона компонента в узел DOM, который находится за пределами иерархии DOM этого компонента.

Компонент `<Teleport>` обеспечивает простой способ обойти это, позволяя нам вырваться из вложенной структуры DOM.

```js
<button @click="open = true">Открыть модальное окно</button>

<Teleport to="body">
  <div v-if="open" class="modal">
    <p>Привет из модального окна!</p>
    <button @click="open = false">Закрыть</button>
  </div>
</Teleport>
```

Целевым значением атрибута `to` компонента `<Teleport>` ожидается строка CSS-селектора или фактический узел DOM. Здесь мы как бы говорим Vue «**телепортировать** этот фрагмент шаблона **в** элемент **`body`**».

Можно комбинировать Teleport с Transition, чтобы создавать анимированные модальные окна

`<Teleport>` изменяет только отображаемую структуру DOM, не затрагивая логическую иерархию компонентов. Другими словами, если `<Teleport>` содержит компонент, этот компонент остается логическим дочерним элементом родительского компонента, содержащего `<Teleport>`. Передача свойств и генерация событий продолжают работать так же, как и раньше.

## Отключение телепорта

 некоторых случаях мы можем захотеть условно отключить `<Teleport>`. Например, мы можем захотеть отображать компонент поверх всего контента на десктопе, но встроенным на мобильных устройствах. `<Teleport>` поддерживает свойство `disabled`, которое можно динамически переключать:

 ```js

 <Teleport :disabled="isMobile">

  ...

</Teleport>

```
## Несколько телепортов в один целевой элемент
Несколько компонентов `<Teleport>` могут монтировать своё содержимое в один и тот же целевой элемент. Порядок будет определяться простым добавлением, т.е. поздние монтирования будут находиться внутри целевого элемента после более ранних.
```js
<Teleport to="#modals">
  <div>А</div>
</Teleport>
<Teleport to="#modals">
  <div>Б</div>
</Teleport>
```

## Отложенный телепорт

В Vue 3.5 и выше можно использовать свойство `defer`, чтобы отложить определение цели для телепорта до тех пор, пока другие части приложения не будут смонтированы. Это позволяет телепорту нацеливаться на контейнерный элемент, который отрисовывается Vue, но находится в более поздней части дерева компонентов:

```js
<Teleport defer to="#late-div">...</Teleport>

<!-- где-то позже в шаблоне -->
<div id="late-div"></div>
```

  Целевой элемент должен быть отрисован в рамках того же такта монтирования/обновления, что и телепорт. Работа `defer` аналогична хуку жизненного цикла `mounted`.

# Связанные идеи:

* [[202510081419 Встроенные компоненты в  Vue]]

---

*Что стоит развить? Какие вопросы возникли?*
