---
repeat: spaced every day
created: 2025-10-23 11:17
tags:
  - network
aliases:
  -
---
*Ссылка на StructureNote:*
*Ссылка на исходник или контекст (если есть):*
- [[202510231057 Почта|Почта]]

# 202510231117 SIMPLE MAIN TRANSFER PROTOCOL

**SMTP** задает правила общения между сервисом электронной почты и клиентским компьютером. **SMTP** более сложен, чем протоколы запроса-ответа, такие как DNS и NTP.

Во-первых, письма могут содержать сообщения, которые не помещаются в один IP-пакет. Когда электронная почта передается многим IP-пакетам, важно, чтобы полезная их полезная нагрузка была собрана в нужном порядке. По это причине SMTP работает на TCP, а не на UDP.

Почтовые сервисы ожидают входящих подключений через TCP-порт 25. Когда соединение установлено, сервер начинает взаимодействие. Он посылает сообщение, чтобы идентифицировать себя

```
220 mail-server.example.com
```

Все сообщения начинаются с трехзначного номера, называемого кодом возврата. После кода сервер указывает собственное имя. В ответ клиент должен отправить команду **HELO**, чтобы идентифицировать себя

```
HELO client.code.energy
```

На этом этапе сервер решает, хочет ли он продолжить общение, основываясь на том, кем является клиент. Если почтовый сервис решает продолжить, он отправляет код ответа 250, который означает, что действие, запрошенное клиентом, было принято

```
250 mail-server.example.com
```

При этом первом обмене и клиент, и сервер подтвердили, что они собираются передать письмо. Далее клиенту нужно указать обратный адрес электронной почты, которая будет передана. Если сервер не может доставить электронное письмо, он отправит другое письмо на обратный адрес, сообщив о проблеме

```
MAIL FROM: <ada@code.energy>
```

У сервера есть возможность принять или отклонить эти данные, например, если сервер настроен на прием только с определенных адресов. Если адрес принят, сервер принимает код 250

```
250 Ок
```

Затем клиент должен сообщить серверу о целевом почтовом ящике
```
RCPT TO: <charles@example.com>
```


# Связанные идеи

- 

---

*Что стоит развить? Какие вопросы возникли?*
