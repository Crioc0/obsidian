---
created: 2025-10-01 13:21
tags:
  - nodejs
repeat: spaced every day
due_at: 2025-10-24T06:00:00.000+03:00
---
# 202510011321 Основные методы работы с fs

*Ссылка на StructureNote:* 
*Ссылка на исходник или контекст (если есть):* [ЯПрактикум](https://practicum.yandex.ru/learn/backend-nodejs/courses/16b47298-e20d-4fde-9619-1ab305039a00/sprints/564238/topics/57910525-b12b-4241-8764-6b23c37a80fc/lessons/07bbdbbc-30d5-4992-ab7f-eed072afdc92/)

### Чтение всех файлов директории

Для этого есть метод `fs.readdir`. Он читает все файлы внутри директории. Первый аргумент метода — путь к директории. Второй — колбэк, в котором описано, что делать с полученными данными.

```ts
import fs from 'fs';
// колбэк-версия метода readdir
fs.readdir('.', (err, files) => {
  if (err) {
        console.log(`Произошла ошибка ${err.message}`)
    return;
  }

  console.log('data: ', files);
});
```

Если работа с Promise-версией, в случае успеха результат попадет в обработчик `then`, а ошибка будет обработана в методе catch

Это справедливо для всех методов модуля `fs`

```ts
import fs from 'fs';
// а вот так можно работать с его Promise-собратом
fs.promises.readdir('.')
    .catch((err)=>console.log(`Произошла ошибка ${err.message}`))
    .then((files)=>console.log('data: ', files))
```

### Создание папок

С этим поможет метод `fs.mkdir`. Он принимает два параметра: имя новой папки и колбэк с единственным аргументом — ошибкой. Первым параметром можно передать имя папки вместе с путём, где нужно создать папку.

```ts
import fs from 'fs';

fs.mkdir('incomingData/data', (err) => {
  if (err) console.log(err);
});
```

### Запись данных в файл

`

Для этого есть метод `fs.writeFile`. Принимает три параметра:

- файл, куда нужно записать данные;
- сами данные, записанные строкой;
- колбэк для обработки ошибки.

```ts
import fs from 'fs';

fs.writeFile('data.json', JSON.stringify([1, 2, 3]), (err) => {
  if (err) console.log(err);
});
```

### Удаление файлов

Это делает метод `fs.unlink`. У него два параметра: имя файла и колбэк для обработки ошибок.

```ts
import fs from 'fs';

fs.unlink('data.json', (err) => {
  if (err) {
    console.log(err);
    return;
  }

  console.log('Файл удалён!');
});
```

### Связанные идеи:

* [[202510011303 Работа с файловой системой, модуль fs]]
---

*Что стоит развить? Какие вопросы возникли?*
