---
created: 2025-10-01 12:34
tags:
  - nodejs
---
# 202510011234
*Ссылка на StructureNote:*
*Ссылка на исходник или контекст (если есть):* [ЯПрактикум](https://practicum.yandex.ru/learn/backend-nodejs/courses/16b47298-e20d-4fde-9619-1ab305039a00/sprints/564238/topics/57910525-b12b-4241-8764-6b23c37a80fc/lessons/da29e3c0-c680-4c56-94af-78e4a9ad0013/)

Приход каждого блока — отдельное событие. Чтобы его обработать, нужно воспользоваться методом `on` объекта запроса. Событие `data` происходит при получении очередного пакета данных. Данные из сети приходят в бинарном виде. Получить их в JS можно с помощью объекта Buffer. Каждый поступивший блок нужно добавлять в одну переменную. После того как придёт последний пакет, мы целиком получим тело ответа. Когда приходит последний пакет, происходит событие `end`. Его и нужно обработать, чтобы превратить запрос в JSON-объект.
```ts
import http, { IncomingMessage, ServerResponse } from 'http';

const server = http.createServer((req:IncomingMessage, res:ServerResponse) => {
  let data = '';
    // обработчик события «получен пакет данных»
  req.on('data', (chunk) => {
    data += chunk.toString();
  });
  // обработчик события «передача завершена»
  req.on('end', () => {
    console.log(JSON.parse(data));
  });
});

server.listen(3000);
```
### Связанные идеи:
* [[202510011230 Потоки в теле запроса NodeJS]]
---

*Что стоит развить? Какие вопросы возникли?*