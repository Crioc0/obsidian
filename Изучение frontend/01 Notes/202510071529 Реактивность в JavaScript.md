---
created: 2025-10-07 15:29
tags:
  - javaScript
repeat: spaced every day
due_at: 2025-10-24T06:00:00.000+03:00
---
# 202510071529 Реактивность в JavaScript

*Ссылка на StructureNote:* [[JavaScript]]
*Ссылка на исходник или контекст (если есть):*

 Реактивность - это парадигма программирования, которая позволяет нам адаптироваться к изменениям в декларативной форме. Канонический пример, который обычно показывают, потому что это отличный пример - электронная таблица Excel. Здесь ячейка A2 определяется формулой `= A0 + A1` (для просмотра или редактирования формулы можно щелкнуть на A2), поэтому электронная таблица выдает нам 3. Ничего удивительного. Но если вы обновите A0 или A1, то заметите, что A2 тоже автоматически обновится.

JavaScript обычно так не работает. Если бы мы написали нечто подобное на JavaScript:

```js
let A0 = 1
let A1 = 2
let A2 = A0 + A1

console.log(A2) // 3

A0 = 2
console.log(A2) // До сих пор 3
```

Далее необходимо определить несколько понятий:

- Функция `update()` производит **побочный эффект**, или сокращенно **эффект**, поскольку изменяет состояние программы.
- `A0` и `A1` считаются **зависимостями** эффекта, так как их значения используются для выполнения эффекта. Считается, что эффект является **подписчиком** своих зависимостей.

Нам нужна волшебная функция, которая может вызывать `update()` (**эффект**) при каждом изменении `A0` или `A1` (**зависимость**):

```js
whenDepsChange(update)
```

Эта функция `whenDepsChange()` выполняет следующие задачи:

1. Отслеживание момента чтения переменной. Например, при вычислении выражения `A0 + A1`, считываются и `A0` и `A1`.
2. Если переменная считывается в момент выполнения эффекта, то следует сделать этот эффект подписчиком на эту переменную. Например, поскольку `A0` и `A1` считываются во время выполнения `update()` то после первого вызова `update()` становится подписчиком и `A0` и `A1`.
3. Определить, когда переменная мутирует. Например, когда переменной `A0` присваивается новое значение, уведомить все ее эффекты-подписчики о необходимости повторного выполнения.

# Связанные идеи:

* [[202510071530 Реактивность в Vue]]

---

*Что стоит развить? Какие вопросы возникли?*
