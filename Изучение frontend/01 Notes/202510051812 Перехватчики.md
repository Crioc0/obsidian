---
created: 2025-10-05 18:12
tags:
  - nestjs
---
# 202510051812
*Ссылка на StructureNote:* [[Nest.js]]
*Ссылка на исходник или контекст (если есть):* 

Перехватчики схожи с фильтрами исключений, но отвечают не за ошибки, а за результат успешного выполнения обработчика. Помимо изменения ответа, перехватчики могут выполнять действия не только после обработчика, но и до него.

Чтобы объявить перехватчик, нужно применить к классу декоратор `@Injectable` и имплементировать интерфейс `NestInterceptor`:
```ts
import { Injectable, NestInterceptor, ExecutionContext, CallHandler } from '@nestjs/common';
import { Observable } from 'rxjs';

@Injectable()
export class LoggingInterceptor implements NestInterceptor {
  intercept(context: ExecutionContext, next: CallHandler): Observable<any> {}
}
```
Метод `intercept` срабатывает перед выполнением обработчика и получает в качестве аргументов два параметра: `ExecutionContext` — такой же, как и в гардах; и `CallHandler` — объект, с помощью которого мы можем вызвать обработчик запроса.

Внутри метода `intercept` можно получить доступ к объекту запроса. Например, чтобы реализовать логирование доступа. Главное, чтобы `intercept` возвращал `next.handle()` — так будет вызван метод контроллера для текущего роута:
### Связанные идеи:
* 
---

*Что стоит развить? Какие вопросы возникли?*