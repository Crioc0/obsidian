---
created: 2025-10-07 13:01
tags:
  - nestjs
---
# 202510071301
*Ссылка на StructureNote:*
*Ссылка на исходник или контекст (если есть):* [ЯПрактикум](https://practicum.yandex.ru/trainer/backend-nodejs/lesson/c853ccd2-0bf3-4f5d-9bb9-b319db84e934/task/b04bd35c-bf4e-48f0-9512-98d11fa8c2c8/)


GET-запросы отличаются от остальных тем, что они не должны никак менять состояние сервера. То есть при обработке сервером такого запроса данные в кэше точно не устареют, а значит, их точно не нужно инвалидировать. Это и даёт возможность автоматически кэшировать GET запросы.

Автоматически закэшировать GET-запросы в Nest.js можно с помощью перехватчика `CacheInterceptor`. Достаточно просто добавить его к контроллеру:
```ts
import { Controller, Get, CacheInterceptor } from '@nestjs/common';

@Controller()
@UseInterceptors(CacheInterceptor)
export class AppController {
  /**
   * Ответы на GET-запросы контроллера автоматически попадут в кэш
   */
  @Get()
  findAll(): string[] {
    return [];
  }
}
```
Но если кэшировать ответ без параметров, его не получится инвалидировать (особенно если у кэша бесконечное время жизни). Поэтому кэширование GET-запросов можно кастомизировать с помощью декораторов `@CacheKey` и `@CacheTTL`:
```ts
import { Controller, Get, CacheInterceptor } from '@nestjs/common';

@Controller()
@UseInterceptors(CacheInterceptor)
export class AppController {
  @CacheKey('all_strings')
  @CacheTTL(50)
  @Get()
  findAll(): string[] {
    return [];
  }
}
```
### Связанные идеи:
* [[202510071255 Кэширование на сервере в NestJs]]
---

*Что стоит развить? Какие вопросы возникли?*