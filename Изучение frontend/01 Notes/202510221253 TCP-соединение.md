---
created: 2025-10-22 12:53
tags:
  - network
level:
  -
---
# 202510221253 TCP-соединение

*Ссылка на StructureNote:*
*Ссылка на исходник или контекст (если есть):* [[202510221200 Протокол управления передачей данных(TCP)]]

Связь TCP всегда осуществляется через пару сегментных потоков, называемых TCP-соединением. Если два приложения хотят начать обмен данными через TCP-соединение, их хосты должны уметь распознавать и сортировать сегменты этого соединения. Они делают это, запоминая, какие номера портов соответствуют какому потоку. Каждый хост также выбирает начальный порядковый номер для запуска своей стороны соединения и подтверждает начальный порядковый номер другой стороны.

По этим причинам для установления TCP-соединения требуется обмен тремя сегментами между клиентом и сервером. Первые два сегмента несут специальный флаг SYN , который служит синхронизации порядковых номеров и номеров подтверждений потоков. Кроме того, флаг ACK переносится теми сегментами, чьи номера подтверждения (acknowledgment) действительны и синхронизированы. Третий сегмент уже может быть использован для данных приложения


Пока соединение активно, хосты отслеживают порядковые номера, номера подтверждений и размеры окон. Они рассчитывают время получения подтверждений от другой стороны и решают, когда отправлять следующие сегменты. Приложение же, в свою очередь, пребывает в блаженном неведении касательно всей этой работы, поскольку оно просто вызывает методы сокета TCP для подключения, отправки и получения.

# Связанные идеи

---

*Что стоит развить? Какие вопросы возникли?*
