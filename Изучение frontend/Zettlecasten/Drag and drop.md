2025 07 0120 15
Tags: #javaScript 
###### Links: 
1) 
# Заметка
Drag-and-drop API - это всторенный API браузеров для реализации перетаскивания элементов с помощью мыши или указателя. Этот API позволяет отслеживать события, связанные с началом, процессом и завершением перетаскивания.
### Основные этапы работы с Drag and Drop API

1. **Назначение атрибута `draggable="true"`**:
    
    - Только элементы с этим атрибутом могут быть перетаскиваемыми.
        
2. **Обработка событий перетаскивания**:
    
    - API предоставляет ряд событий, которые позволяют настроить поведение.

## Ключевые события API
|Событие|Описание|
|---|---|
|`dragstart`|Срабатывает, когда пользователь начинает перетаскивание элемента.|
|`drag`|Происходит во время перемещения элемента.|
|`dragend`|Срабатывает, когда пользователь завершает перетаскивание.|
|`dragenter`|Возникает, когда перетаскиваемый элемент заходит на область цели.|
|`dragover`|Происходит при нахождении элемента над целью (обычно отменяют `preventDefault`).|
|`dragleave`|Вызывается, когда элемент покидает область цели.|
|`drop`|Срабатывает при сбросе перетаскиваемого элемента на цель.|
### Как работает

1. **Подготовка элемента к перетаскиванию**:  
    Укажите атрибут `draggable="true"` и настройте обработчик события `dragstart`.
    
2. **Целевая зона (drop target)**:  
    Добавьте обработчики событий `dragover` и `drop` на зону, куда нужно сбросить элемент. Чтобы сделать область доступной для сброса, вызовите `event.preventDefault()` в обработчике `dragover`.
### Основные методы `dataTransfer`

Объект `dataTransfer` используется для передачи данных между источником (drag) и целью (drop).

| Метод                   | Описание                                             |
| ----------------------- | ---------------------------------------------------- |
| `setData(format, data)` | Устанавливает данные для передачи.                   |
| `getData(format)`       | Получает данные, переданные с помощью `setData`.     |
| `clearData(format)`     | Очищает данные для указанного формата.               |
| `effectAllowed`         | Устанавливает тип действий (`copy`, `move`, `link`). |
| `dropEffect`            | Тип действия при сбросе (`none`, `copy`, `move`).    |
**Ограничения:**

- Работает только с мышью.
    
- Ограниченная поддержка на мобильных устройствах.
