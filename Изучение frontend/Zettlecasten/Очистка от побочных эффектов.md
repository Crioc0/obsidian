2025 06 2818 16
Tags: #vue 
###### Links: 
1) [[Наблюдатели]]
# Заметка
Иногда мы можем получить побочные эффекты, например при асинхронных запросах:
```js
watch(id, (newId) => {
  fetch(`/api/${newId}`).then(() => {
    // callback logic
  })
})
```
Но что, если `id` изменится до завершения запроса? Когда запрос завершится, мы получим данные с предыдущем запрошенным значением. В идеале, мы хотим иметь возможность отменить запрос, при изменении `id`.

Мы можем использовать [`onWatcherCleanup()`](https://ru.vuejs.org/api/reactivity-core.html#onwatchercleanup)  API для регистрации функции очистки, которая будет вызываться, когда наблюдатель становится недействительным и собирается перезапуститься: