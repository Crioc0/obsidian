2025 09 1609 10
Tags:  #MongoDB 
###### Links: 
1) 
# Заметка
Индекс по нескольким полям, или составной индекс, делает поиск по нескольким полям быстрее. Например, нам нужно найти все посты автора за определённую дату. Создадим индекс:
```ts
db.posts.createIndex({ "author.name": 1, "createdAt": -1 });
```
Индекс будет выглядеть так: по каждому значению `author.name` будет содержаться индекс по `createdAt`. В индексе по первому полю мы сможем искать документы по всей коллекции, а в индексе по второму — только по тем документам, которые отфильтрует первый индекс.

Порядок полей при создании индекса важен, потому что индекс по второму полю не используется в отрыве от первого. Но ничего не мешает нам создать второй индекс, где первое поле — `createdAt`. Это позволит быстро искать все посты за определённый период
```ts
db.posts.createIndex({ "createdAt": -1, "author.name": 1 });
```