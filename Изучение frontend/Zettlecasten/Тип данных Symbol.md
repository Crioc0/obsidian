2025 07 1216 57
Tags: #vue 
###### Links: 
1) 
# Заметка
По спецификации, в качестве ключей для свойств объекта могут использоваться только строки или символы. Ни числа, ни логические значения не подходят, разрешены только эти два типа данных.
## Символы
«Символ» представляет собой уникальный идентификатор.

Создаются новые символы с помощью функции `Symbol()`.
При создании, символу можно дать описание (также называемое имя), в основном использующееся для отладки кода:
```js
// Создаём символ id с описанием (именем) "id"
let id = Symbol('id')
```
Символы гарантированно уникальны. Даже если мы создадим множество символов с одинаковым описанием, это всё равно будут разные символы. Описание – это просто метка, которая ни на что не влияет.
Символы не преобразуются автоматически в строки. Если нужно получить строковое значение, то необходимо явно преобразовать его с помощью метода .toString(). Так же можно обратиться с свойству symbol.description, чтобы вывести описание
### Скрытые свойства
Символы позволяют создавать «скрытые» свойства объектов, к которым нельзя нечаянно обратиться и перезаписать их из других частей программы. К символу сложно нечаянно обратиться, сторонний код вряд ли его вообще увидит, и, скорее всего, добавление поля к объекту не вызовет никаких проблем. Конфликтов в случае, если стороння библиотека захочет записать какой-то итендификатор, не будет, так как символы всегда уникальны, даже если их имена совпадают
### Символы в литеральном объекте
Если мы хотим использовать символ при литеральном объявлении объекта `{...}`, его необходимо заключить в квадратные скобки.
```js
let id = Symbol("id")
let user = {
	name: 'Вася',
	[id]:123
}
```
## Символы игнорируются циклом for...in
Свойства, чьи ключи – символы, не перебираются циклом `for..in`.
Это – часть общего принципа «сокрытия символьных свойств». Если другая библиотека или скрипт будут работать с нашим объектом, то при переборе они не получат ненароком наше символьное свойство. `Object.keys(user)` также игнорирует символы.
Object.assign, в отличии от цикла for...in, копирует и строковые, и символьные свойства
## Глобальные символы
Символы уникальны, даже если их имена совпадают. Если разные части приложения хотят получить доступ к символу `"id"`, подразумевая именно одно и то же свойство.
Для этого существует _глобальный реестр символов_. Мы можем создавать в нём символы и обращаться к ним позже, и при каждом обращении нам гарантированно будет возвращаться один и тот же символ.
```JS
// читаем символ из глобального реестра и записываем его в переменную
let id = Symbol.for("id")
// читаем его снова и записываем в другую переменную (возможно, из другого места кода)
let idAgain = Symbol.for("id")
// проверяем -- это один и тот же символ
alert(id === idAgain); // true
```
## Symbol.keyFor
Для глобальных символов, кроме `Symbol.for(key)`, который ищет символ по имени, существует обратный метод: `Symbol.keyFor(sym)`, который, наоборот, принимает глобальный символ и возвращает его имя.
```js
// получаем символ по имени
let sym = Symbol.for("name")
let sym2 = Symbol.for("id")

alert(Symbol.keyFor("sym")) // name
alert(Symbol.keyFor("sym2")) // id

```