2025 09 1013 00
Tags: #express 
###### Links: 
1) 
# Заметка
## Роутинг GET-запроса
Для обработки GET-запроса в экспрессе есть метод `get`. Он принимает на вход два аргумента:

- строку с запросом,
- колбэк, предписывающий, что нужно делать, если такой запрос пришёл на сервер.
```ts
// Импортируем типы для объектов запроса и ответа Express
import { Request, Response } from 'express';

// Создаём экземпляр приложения Express
const app = express() 

app.get('/', (req: Request, res: Response) => {
    // логика обработки запроса
});
```
Параметры колбэка — объекты запроса и ответа.
## Объект ответа
У объекта ответа есть метод `send` — он отправляет ответ. Параметром ему передают информацию, которую нужно отправить пользователю, например, веб-страницу.
```ts
app.get('/', (req: Request, res: Response) => {
  res.send(
        `<html>
        <body>
            <p>Ответ на сигнал из далёкого космоса</p>
        </body>
        </html>`
    );
});
```
Последовательно отправлять несколько res.send() некорректно - это приведет к возникновению ошибки "Error: Cannot set headers after they are sent to the client"

Кроме отправки ответа, метод автоматически выставит заголовок "Content-Type" в соответствии с аргументом, который ему передали
По умолчанию метод `send` отправляет ответ со статусом 200. Его можно изменить методом `status`
```ts
// app — экземпляр приложения Express, который мы создали в самом начале
app.get('/', (req: Request, res: Response) => {
  res.status(404);
  res.send('<h1>Страница не найдена</h1>');
});
```
## Объект запроса
Запрос содержит информацию о том, что нужно пользователю. Она может быть организована по-разному, например, в GET-запросе данные пользователя упакованы в строку, которая хранится в свойстве `query` объекта запроса.
```ts
app.get('/', (req: Request, res: Response) => {
  res.send(req.query);
});
```