2025 07 0518 41
Tags: #vue 
###### Links: 
1) 
# Заметка
Реализация виртуального DOM в React и большинстве других реализаций виртуального DOM является чисто исполнительной: алгоритм согласования не может делать никаких предположений о входящем виртуальном DOM-дереве, поэтому для обеспечения корректности ему приходится полностью обходить это дерево и дифферинцировать входные параметры каждого vnode. Кроме того, даже если часть дерева никогда не изменяется, при каждом повторном рендеринге для нее всегда создаются новые vnode, что приводит к излишней нагрузке на память.
Во Vue фреймворк контролирует и компилятор, и время выполнения. Это позволяет нам реализовать множество оптимизаций во время компиляции, которыми может воспользоваться только тесно связанный рендерер. Компилятор может статически анализировать шаблон и оставлять подсказки в сгенерированном коде, чтобы время выполнения могло использовать короткие пути, когда это возможно. В то же время мы сохраняем возможность для пользователя опускаться на уровень функций рендеринга для более прямого управления в крайних случаях. Мы называем этот гибридный подход **виртуальный DOM на основе данных компилятора**.

Основные оптимизации
### Cache Static[​](https://ru.vuejs.org/guide/extras/rendering-mechanism.html#cache-static)

Довольно часто в шаблоне встречаются части, не содержащие динамических привязок:

template

```
<div>
  <div>foo</div> <!-- cached -->
  <div>bar</div> <!-- cached -->
  <div>{{ dynamic }}</div>
</div>
```
Рендеринг div с foo и bar статичен-он не требует сравнения со старым vnode при каждом ререндере. Поэтому при первом рендере он их создает и кэширует, и при каждом последующем ререндере использует те же vnodes. Процесс реерендера так же способен полностью пропускать сравнение, когда он поймет, что новый и стррый vnode полностью идентичны.
Также, если будет достаточное количество последовательных статических элементов, они будут соединены в один статический vnode, который содержит чистый HTML код всех этих vnodes. Статические vnodes монтируются напрямую с помощью innerHTML. 
