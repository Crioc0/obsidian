2025 07 1515 03
Tags: #javaScript 
###### Links: 
1) [[Иммутабельные методы массивов]]
# Заметка
Для хранения упорядоченных коллекций существует особая структура данных, которая называется массив, `Array`.
## Объявление
Существует два варианта синтаксиса для создания пустого массива:
```js
let arr = new Array();
let arr = [];
```
Общее число элементов массива содержится в его свойстве `length`. В массиве могут храниться элементы любого типа.
## Получение последних элементов при помощи at
Мы можем явно вычислить индекс последнего элемента, а затем получить к нему доступ вот так: `fruits[fruits.length - 1]`. Если напрямую указать индекс -1, то выведет undefined, так как индекс в квадратных скобках понимается буквально.
Есть более короткий синтаксис: `fruits.at(-1)`.
Другими словами, `arr.at(i)`:

- это ровно то же самое, что и `arr[i]`, если `i >= 0`.
- для отрицательных значений `i`, он отступает от конца массива.
## Методы pop/push, shift/unshift
Очередь – один из самых распространённых вариантов применения массива. В области компьютерных наук так называется упорядоченная коллекция элементов, поддерживающая два вида операций:

- `push` добавляет элемент в конец.
- `shift` удаляет элемент в начале, сдвигая очередь, так что второй элемент становится первым.
Массивы поддерживают обе операции.

На практике необходимость в этом возникает очень часто. Например, очередь сообщений, которые надо показать на экране.

Существует и другой вариант применения для массивов – структура данных, называемая [стек](https://ru.wikipedia.org/wiki/%D0%A1%D1%82%D0%B5%D0%BA).

Она поддерживает два вида операций:
- `push` добавляет элемент в конец.
- `pop` удаляет последний элемент.

Таким образом, новые элементы всегда добавляются или удаляются из «конца».

Примером стека обычно служит колода карт: новые карты кладутся наверх и берутся тоже сверху.
Массивы в JavaScript могут работать и как очередь, и как стек. Мы можем добавлять/удалять элементы как в начало, так и в конец массива.

В компьютерных науках структура данных, делающая это возможным, называется [двусторонняя очередь](https://ru.wikipedia.org/wiki/%D0%94%D0%B2%D1%83%D1%85%D1%81%D1%82%D0%BE%D1%80%D0%BE%D0%BD%D0%BD%D1%8F%D1%8F_%D0%BE%D1%87%D0%B5%D1%80%D0%B5%D0%B4%D1%8C).
### Методы, работающие с концом массива
#### pop
Удаляет последний элемент из массива и возвращает его. И `fruits.pop()` и `fruits.at(-1)` возвращают последний элемент массива, но `fruits.pop()` также изменяет массив, удаляя его.
#### push
Добавляет элемент в конец массива. Вызов `fruits.push(...)` равнозначен `fruits[fruits.length] = ...`.
### Методы, работающие с началом массива
#### shift
Удаляет из массива первый элемент и возвращает его.
#### unshift 
Добавляет элемент в начало массива
## Внутреннее устройство массива
Массив – это особый подвид объектов. Квадратные скобки, используемые для того, чтобы получить доступ к свойству `arr[0]` – это по сути обычный синтаксис доступа по ключу, как `obj[key]`, где в роли `obj` у нас `arr`, а в качестве ключа – числовой индекс. Следует помнить, что в JavaScript существует 8 основных типов данных. Массив является объектом и, следовательно, ведёт себя как объект. …Но то, что действительно делает массивы особенными – это их внутреннее представление. Движок JavaScript старается хранить элементы массива в непрерывной области памяти, один за другим. Существуют и другие способы оптимизации, благодаря которым массивы работают очень быстро. Все эти преимущества потеряются, если работать с массивом не как  упорядоченной коллекцией, то есть 