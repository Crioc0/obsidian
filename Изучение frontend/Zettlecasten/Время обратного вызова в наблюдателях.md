2025 06 2818 20
Tags: #vue 
###### Links: 
1) [[Наблюдатели]]
# Заметка
Созданные пользователем обратные вызовы обрабатываются пакетно, чтобы избежать дублирования. Например, мы, вероятно, не хотим, чтобы наблюдатель запускался тысячу раз, если мы синхронно помещаем тысячу элементов в отслеживаемый массив.

По умолчанию, созданные пользователем обратные вызовы наблюдателей вызываются **до** обновления компонентов Vue. Это означает, что если вы попытаетесь получить доступ к DOM внутри обратного вызова наблюдателя, DOM будет находиться в состоянии до того, как Vue применит какие-либо обновления.

### Post Watchers
Если вы хотите получить доступ к DOM в обратном вызове наблюдателя **после того**, как Vue обновит его, вам нужно указать опцию `flush: 'post'`:

```js
watch(source, callback, {
  flush: 'post'
})

watchEffect(callback, {
  flush: 'post'
})
```

Post-flush `watchEffect()` также имеет удобный псевдоним, `watchPostEffect()`:
```js
import { watchPostEffect } from 'vue'

watchPostEffect(() => {
  /* выполняется после обновлений Vue */
})
```

### Sync watchers