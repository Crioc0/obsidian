2025 06 2916 09
Tags: #vue 
###### Links: 
1) [[Директивы в Vue]]
# Заметка
В некоторых случаях мы можем захотеть передать фрагмент шаблона дочернему компоненту и позволить дочернему компоненту отобразить этот фрагмент в своем собственном шаблоне.
```js
<FancyButton>
  Нажми на меня! <!-- содержимое слота -->
</FancyButton>

<button class="fancy-btn">
  <slot></slot> <!-- вывод слота -->
</button>
```
Содержимое слота не ограничивается только текстом. Это может быть любое допустимое содержимое шаблона. Например, мы можем передать несколько элементов или даже другие компоненты:
```js
<FancyButton>
  <span style="color:red">Нажми на меня!</span>
  <AwesomeIcon name="plus" />
</FancyButton>
```
## Область видимости при отрисовке
Выражения в родительском шаблоне имеют доступ только к родительской области видимости, выражения в дочернем шаблоне имеют доступ только к дочерней области видимости.
## Содержимое слота по умолчанию
Бывают случаи, когда полезно указать для слота запасное (т.е. по умолчанию) содержимое, которое будет отображаться только при отсутствии содержимого. Например, в компоненте `<SubmitButton>`:
```js
<button type="submit">
  <slot>
    Отправить <!-- содержимое по умолчанию -->
  </slot>
</button>
```
## Именованные слоты
Зачастую удобно иметь несколько слотов. В таких случаях элементу `<slot>` можно указать специальный атрибут `name`, который используется для присвоения уникального ID различным слотам, чтобы определить, где какое содержимое необходимо отобразить:
```js
<div class="container">
  <header>
    <slot name="header"></slot>
  </header>
  <main>
    <slot></slot>
  </main>
  <footer>
    <slot name="footer"></slot>
  </footer>
</div>
```
Для указания содержимого именованного слота, нужно использовать директиву `v-slot` на элементе `<template>`, передавая имя слота аргументом `v-slot`
```js
<BaseLayout>
  <template v-slot:header>
    <!-- содержимое для слота заголовка -->
  </template>
</BaseLayout>
```
`v-slot` имеет специальное сокращение `#`, поэтому `<template v-slot:header>` можно сократить до `<template #header>`. Думайте об этом как о "рендеринге этого фрагмента шаблона в слоте 'header' дочернего компонента".
```js
<BaseLayout>
  <template #header>
    <h1>Здесь мог быть заголовок страницы</h1>
  </template>

  <template #default>
    <p>Параграф для основного контента.</p>
    <p>И ещё один.</p>
  </template>

  <template #footer>
    <p>Некая контактная информация</p>
  </template>
</BaseLayout>
```
## Условные слоты
Иногда вам может понадобиться отобразить что-то в зависимости от того, был ли передан контент в слот.

Вы можете использовать свойство [$slots](https://ru.vuejs.org/api/component-instance.html#slots) в сочетании с [v-if](https://ru.vuejs.org/guide/essentials/conditional.html#v-if) для достижения этой цели.
```js
<template>
  <div class="card">
    <div v-if="$slots.header" class="card-header">
      <slot name="header" />
    </div>
    
    <div v-if="$slots.default" class="card-content">
      <slot />
    </div>
    
    <div v-if="$slots.footer" class="card-footer">
      <slot name="footer" />
    </div>
  </div>
</template>
```
## Динамическое имя слота
```js
<base-layout>
  <template v-slot:[dynamicSlotName]>
    ...
  </template>

  <!-- сокращённая запись -->
  <template #[dynamicSlotName]>
    ...
  </template>
</base-layout>
```

содержимое слота не имеет доступа к состоянию в дочернем компоненте.
## Слоты с ограниченной областью видимости
 Бывают случаи, когда содержимое слота может использовать данные как из родительской, так и из дочерней области. Для этого нам нужен способ, с помощью которого дочерняя область может передавать данные слоту при его рендеринге.
```js
<!-- <MyComponent> template -->
<div>
  <slot :text="greetingMessage" :count="1"></slot>
</div>
```

```js
<MyComponent v-slot="slotProps">
  {{ slotProps.text }} {{ slotProps.count }}
</MyComponent>
```
Входные параметры, переданные дочерним слотом в слот, доступны как значение соответствующей директивы `v-slot`, к которой можно получить доступ с помощью выражений внутри слота.
### Именованные слоты с ограниченной областью видимости
Именованные слоты с ограниченной областью видимости работают аналогичным образом - входные параметры слота доступны как значение `v-slot` директивы: `v-slot:name="slotProps"`. При использовании сокращения это выглядит следующим образом:
```js
<MyComponent>
  <template #header="headerProps">
    {{ headerProps }}
  </template>

  <template #default="defaultProps">
    {{ defaultProps }}
  </template>

  <template #footer="footerProps">
    {{ footerProps }}
  </template>
</MyComponent>

```
[[Передача входных параметров в компоненты]] в именованный слот:
```js
<slot name="header" message="hello"></slot>
```