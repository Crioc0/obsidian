2025 09 1608 48
Tags: #базы_данных 
###### Links: 
1) [[B-деревья]]
# Заметка
Для понимания концепции индексов можно представить базу данных как массив. Добавление новых записей работает быстро- данные добавляются в конец массива.
Но если требуется прочитать какой-то элемент массива, которые подходят под какой-то фильтр, нужно будет пройти все элементы массива, и каждая новая запись будет увеличивать время поиска.
## Индексы
Чтобы увеличить скорость поиска, нужно заменить структуру данных на какую-нибудь другую, которая имеет большую производительность при чтении. В СУБД для этого используют деревья поиска. Данные в них хранятся таким образом, что операции поиска и вставки в дерево имеют вычислительную сложность O(logN). Чаще всего в СУБД, в том числе и в MongoDB, используется B-дерево.

Если разместить данные в БД, представленные в виде дерева поиска, то поиск будет работать в разы быстрее(O logn), чем обычный поиск по массиву (On). Такое дерево будет называться индексом. В индексе хранится значение поля и ссылка на соответствующий ему документ.

Если построить индекс по полю `username`, мы сможем быстро искать пользователей по никнейму `db.users.findOne({ "username": "johndoe" })`.
Каждый узел в индексе указывает на запись в коллекции с таким же значением поля `username`.

Но если понадобится найти пользователя по полю `email`, нам снова придётся перебирать каждую запись. К тому же обходить нужно дерево, что немного сложнее, чем итерироваться по массиву.