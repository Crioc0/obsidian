2025 06 2914 40
Tags: #vue 
###### Links: 
1) 
# Заметка
Система реактивности Vue отслеживает использование состояния на основе доступа к свойствам. Например, когда вы обращаетесь к `props.foo` в вычисляемом геттере или наблюдателе, свойство `foo` отслеживается как зависимость.
```js
const { foo } = defineProps(['foo'])

watchEffect(() => {
  // до версии 3.5 функция сработает только один раз
  // перезапускается при изменении свойства "foo" в версии 3.5+
  console.log(foo)
})
```
В версии 3.4 и ниже `foo` является фактической константой и никогда не изменится. В версии 3.5 и выше компилятор Vue автоматически добавляет `props.` когда код в одном и том же блоке `<script setup>` обращается к переменным, деструктурированным из `defineProps` несколько раз. Поэтому приведенный выше код становится эквивалентным следующему:
```js
const props = defineProps(['foo'])

watchEffect(() => {
  // `foo` преобразуется компилятором в `props.foo`
  console.log(props.foo)
})
```
Кроме того, вы можете использовать собственный синтаксис JavaScript для объявления значений по умолчанию для свойств. Это особенно полезно при использовании объявления свойств на основе типов:
```js
const { foo = 'hello' } = defineProps<{ foo?: string }>()
```