2025 07 1715 05
Tags: #javaScript 
###### Links: 
1) 
# Заметка
## Добавление/удаление элементов
Методы, которые добавляют и удаляют элементы из начала или конца:

- `arr.push(...items)` – добавляет элементы в конец,
- `arr.pop()` – извлекает элемент из конца,
- `arr.shift()` – извлекает элемент из начала,
- `arr.unshift(...items)` – добавляет элементы в начало.
### splice
Метод [arr.splice](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/splice) – это универсальный «швейцарский нож» для работы с массивами. Умеет всё: добавлять, удалять и заменять элементы.
```js
arr.splice(start[, deleteCount, elem1,...elemN])
```
Он изменяет `arr` начиная с индекса `start`: удаляет `deleteCount` элементов и затем вставляет `elem1, ..., elemN` на их место. Возвращает массив из удалённых элементов.
В этом и в других методах массива допускается использование отрицательных индексов. Они определяют позицию с конца массива, как тут:
### slice
```js
array.slice([start,end])
```
Он возвращает новый массив, в который копирует все элементы с индекса `start` до `end` (не включая `end`). `start` и `end` могут быть отрицательными, в этом случае отсчёт позиции будет вестись с конца массива.
Можно вызвать `slice` без аргументов: `arr.slice()` создаёт копию `arr`. Это часто используют, чтобы создать копию массива для дальнейших преобразований, которые не должны менять исходный массив.
### concat
Метод [arr.concat](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/concat) создаёт новый массив, в который копирует данные из других массивов и дополнительные значения.
```js
arr.concat(arg1,arg2...)
```
Он принимает любое количество аргументов, которые могут быть как массивами, так и простыми значениями.

В результате – новый массив, включающий в себя элементы из `arr`, затем `arg1`, `arg2` и так далее.

Если аргумент `argN` – массив, то копируются все его элементы. Иначе копируется сам аргумент.
Обычно он копирует только элементы из массивов. Другие объекты, даже если они выглядят как массивы, добавляются как есть:
```js
let arr = [1,2]

let arrayLike = {
	0: "что-то",
	length: 1
}
alert(arr.concat(arrayLike)); // 1,2[object Object]
```
…Но если массивоподобный объект имеет специальное свойство `Symbol.isConcatSpreadable`, то он обрабатывается как массив, с помощью `concat`: вместо него добавляются его элементы:
```js
let arr = [1,2]

let arrayLike = {
	0: "что-то",
	1: "еще",
	[Symbol.isConcatSpeadable]: true,
	length: 2
};

alert(arr.concat(arrayLike))// 1,2,что-то, еще
```
## Перебор: forEach
Метод [arr.forEach](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach) позволяет запускать функцию для каждого элемента массива.
```js
arr.forEach(function(item,index, array))
```
Результат функции (если она что-то возвращает) отбрасывается и игнорируется.
## Поиск в массиве
### indexOf/lastIndexOf и includes
У методов [arr.indexOf](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf) и [arr.includes](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/includes) одинаковый синтаксис и они делают по сути то же самое, что и их строковые аналоги, но работают с элементами вместо символов:
- `arr.indexOf(item, from)` ищет `item` начиная с индекса `from` и возвращает номер индекса, на котором был найден искомый элемент, в противном случае `-1`.
- `arr.includes(item, from)` ищет `item` начиная с индекса `from` и возвращает `true`, если поиск успешен.
Обычно эти методы используются только с одним аргументом: искомым `item`. По умолчанию поиск ведется с начала.
Метод [arr.lastIndexOf](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/lastIndexOf) похож на `indexOf`, но ищет справа налево.
### find и findIndex/findLastIndex
Если нужно найти в массиве объектов объект с определенным условием, нужно использовать метод arr.find()
```js
let result = arr.find(function(item, index, array){
	//если true - возвращается текущий элемент и перебор прерывается
	//если все итерации оказались ложными, возвращается undefined
})
```
Функция вызывается по очереди для каждого элемента массива:

- `item` – очередной элемент.
- `index` – его индекс.
- `array` – сам массив.
У метода [arr.findIndex](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex) такой же синтаксис, но он возвращает индекс, на котором был найден элемент, а не сам элемент. Значение `-1` возвращается, если ничего не найдено.

Метод [arr.findLastIndex](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/findLastIndex) похож на `findIndex`, но ищет справа налево, наподобие `lastIndexOf`.
### filter
Метод `find` ищет один (первый) элемент, который заставит функцию вернуть `true`.

Если найденных элементов может быть много, можно использовать [arr.filter(fn)](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/filter).
Синтаксис схож с `find`, но `filter` возвращает массив из всех подходящих элементов:
```js
let result = arr.filter(function(item, index, array){
	// если `true` -- элемент добавляется к results и перебор продолжается
	// возвращается пустой массив в случае, если ничего не найдено
})
```
## Преобазование массива
### map
Метод [arr.map](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/map) является одним из наиболее полезных и часто используемых.
Он вызывает функцию для каждого элемента массива и возвращает массив результатов выполнения этой функции.
```js
let result = arr.map(function(item,index,array)){
	// возвращается новое значение вместо элемента
}
```
## sort(fn)
Вызов [arr.sort()](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/sort) сортирует массив _на месте_, меняя в нём порядок элементов.
Он также возвращает отсортированный массив, но обычно возвращаемое значение игнорируется, так как изменяется сам `arr`.
```
arr.sort()
```
**По умолчанию элементы сортируются как строки.**
Чтобы использовать наш собственный порядок сортировки, нужно предоставить функцию в качестве аргумента arr.sort()
Функция  должна для пары значений вовращать
```js
funcion compare(a,b){
	if(a>b) return 1
	if(a == b) return0
	if(a<b) return -1
	}
arr.sort(compare)
```
### reverse
Метод [arr.reverse](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/reverse) меняет порядок элементов в `arr` на обратный.
```js
arr.reverse()
```
Он возвращает массив `arr` с изменённым порядком элементов.
### split и join
Метод [str.split(delim)](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/String/split) разбивает строку на массив по заданному разделителю `delim`.
```js
let names= 'Вася, Петя, Маша'
let arr = names.split(', ')
```
У метода `split` есть необязательный второй числовой аргумент – ограничение на количество элементов в массиве. Если их больше, чем указано, то остаток массива будет отброшен. На практике это редко используется:
### reduce/reduceRight
Методы [arr.reduce](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce) и [arr.reduceRight](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/reduceRight) похожи на методы выше используются для вычисления единого значения на основе всего массива.